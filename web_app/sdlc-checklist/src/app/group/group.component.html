<section class="group">
    <div class="header"> 
        <div *ngIf="group.id; else ungrouped" [className]="areAllChildrenChecked() ? 'inline-block gray' : 'inline-block'">
            <h2 (click)="group.toggleExpansion()" [className]="group.expanded ? 'prependDownArrow' : 'prependUpArrow'">{{ group.id }}: {{ group.title }}</h2>
        </div>
        <ng-template #ungrouped>
            <h2 (click)="group.toggleExpansion()" [className]="group.expanded ? 'prependDownArrow' : 'prependUpArrow'">{{ group.title }}</h2>
        </ng-template>  
        <div class="button-set">
            <img *ngFor="let i of ['check', 'x', 'na']" [src]="'/assets/' + i + '.png'" [className]="i" [alt]="i" 
                 (click)="setAllChildrenSelection(i)" (keydown.enter)="setAllChildrenSelection(i)" tabindex=0>
        </div>
    </div>
    <div class="group-rollable-content" [hidden]="!group.expanded">
        <div [class]="((nestLevel % 2 === 0) ? 'even ' : 'odd ') + 'group-container'">
            <app-group *ngFor="let subgroup of group.groups" [group]="subgroup" [nestLevel]="nestLevel + 1"></app-group>
        </div>
        <div class="checkbox-container">
            <app-control *ngFor="let item of group.controls" 
              [control]="item"
            ></app-control>
        </div>
    </div>
</section>