<div class="checkbox-item">
  <div class="checkbox-container">
    <div class="button-set">
      <div class="individual-button" *ngFor="let i of ['check', 'x', 'na']">
        <img [src]="'/assets/' + i + '.png'" [alt]="i" [class]="isSelected(i) ? i + '-selected ' + i : i" (click)="select(i)" (keydown.enter)="select(i)" tabindex=0>
      </div>
      <img alt="Comment Button" 
        [src]="control.comment === '' ? '/assets/blank.png' : control.commentFinalized ? '/assets/complete.png' : '/assets/progress.png'" 
        (click)="deploy()" (keydown.enter)="deploy()" class="pencil" [hidden]="!control.isChecked()" tabindex=0>
    </div>
    <div class="checkbox-label">
      <div (click)="control.toggleExpansion()" (keydown.enter)="control.toggleExpansion()" tabindex=0>
        <p class="checkbox-description">ID: {{control.id}}</p>
        <p class="checkbox-description">Description : {{ control.title }}</p>
      </div>
    </div>
  </div>
  <app-rollable *ngIf="control.expanded"
    [examples]="control.examples"
    [references]="control.references"
    [props]="control.props"
  ></app-rollable>
</div>

<dialog class="pane popup" [id]="'comment-popup-' + control.uid" (mousedown)="clicked($event)">
  <br>
  <label for="comment" class="explanation-label">Brief Explanation: </label><br><br>
  <textarea [id]="'comment-' + control.uid" placeholder="Explanation" rows="4"></textarea>
  <div class="bottom-buttons">
    <div (click)="done()" (keydown.enter)="done()" tabindex=0>
      <div class="done"></div>
      <p>Done</p>
    </div>
    <div (click)="save()" (keydown.enter)="save()" tabindex=0>
      <div class="save"></div>
      <p>Save</p>
    </div>
    <div (click)="cancel()" (keydown.enter)="cancel()" tabindex=0>
      <div class="cancel"></div>
      <p>Cancel</p>
    </div>
    <div (click)="del()" (keydown.enter)="del()" tabindex=0>
      <div class="delete"></div>
      <p>Delete</p>
    </div>
  </div>
</dialog>

